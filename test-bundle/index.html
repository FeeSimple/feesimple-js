<!DOCTYPE html>
<html>
  <body>

  <h2>Testing of the <i>feesimple.bundle.js</i></h2>

  <pre style="width: 100%; height: 100%; margin:0px; "></pre>

  <script src="./feesimple.bundle.js"></script>

  <script>
    let pre = document.getElementsByTagName('pre')[0];

    // Can enable to use either "async/await" style or Promise style

    // async/await
    // (async () => {
    //   try {
    //     const feesimpleClient = FeeSimple();
    //     const accountName = 'usertrung123';
    //     const availabilityData = await feesimpleClient.getAvailabilityData(accountName);
    //     pre.textContent += `getAvailabilityData for account: ${accountName} \n` + JSON.stringify(availabilityData, null, 2);
    //   } catch (err) {
    //     pre.textContent += err;
    //   }
    // })();

    // Promise
    (() => {
      const feesimpleClient = FeeSimple();
      const accountName = 'usertrung123';
      feesimpleClient.getAvailabilityData(accountName)
        .then(availabilityData => {
          pre.textContent +=`getAvailabilityData for account: ${accountName} \n` + JSON.stringify(availabilityData, null, 2);
        })
        .catch(err => {
          pre.textContent += err;
        })
    })();
  </script> 

  </body>
</html>